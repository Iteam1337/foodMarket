(()=>{"use strict";var e={2348:(e,t,n)=>{n.r(t),n.d(t,{default:()=>cn});var r=n(4942),a=n(2950),i=n(9526),l=n(8473),o=n(7132),s=n(1925),u=n(7973),d=n(2698);const c=JSON.parse('{"expo":{"name":"foodMarket","slug":"foodMarket","version":"1.0.0","orientation":"portrait","icon":"./assets/icon.png","userInterfaceStyle":"light","splash":{"image":"./assets/splash.png","resizeMode":"contain","backgroundColor":"#ffffff"},"assetBundlePatterns":["**/*"],"ios":{"supportsTablet":true},"android":{"adaptiveIcon":{"foregroundImage":"./assets/adaptive-icon.png","backgroundColor":"#ffffff"}},"web":{"favicon":"./assets/favicon.png"},"extra":{"eas":{"projectId":"f0004062-4c19-4cf2-bd6d-e9def8a2e1a0"}},"runtimeVersion":{"policy":"sdkVersion"},"updates":{"url":"https://u.expo.dev/f0004062-4c19-4cf2-bd6d-e9def8a2e1a0"},"owner":"iteam"}}');var f=n(885),p=n(3292),g=n(4152),m=n(5861),h=n(1133),j=n(9233),b=n(477),v=n(4333),x=n(8576),y=n(3665),k=n(7796),O=n(7394),S=n(5226),P=n(4445),w=n(7154),C=n(7459),T=n(3637),F=n(7967);function D(){return E.apply(this,arguments)}function E(){return(E=(0,m.default)((function*(){var e;if(P.isDevice){var t=(yield w.getPermissionsAsync()).status,n=t;if("granted"!==t)n=(yield w.requestPermissionsAsync()).status;return"granted"!==n?void alert("Failed to get push token for push notification!"):(e=(yield C.default()).data,console.log("token",e),"android"===o.default.OS&&T.default("default",{name:"default",importance:F.AndroidImportance.MAX,vibrationPattern:[0,250,250,250],lightColor:"#FF231F7C"}),e)}}))).apply(this,arguments)}var B=n(9146),R=n(7557),L=(0,i.createContext)(),A=function(e){var t=e.children,n=(0,B.default)("https://skaff-api.iteam.pub");return(0,R.jsx)(L.Provider,{value:n,children:t})},V=(0,i.createContext)(void 0);function I(e){var t=e.children,n=(0,i.useState)(null),r=(0,f.default)(n,2),a=r[0],l=r[1];return(0,R.jsx)(V.Provider,{value:{user:a,setUser:l},children:t})}function M(){var e=(0,i.useContext)(V);if(void 0===e)throw new Error("useAuthContext must be used within an AuthProvider");return e}const q=function(){var e=(0,i.useContext)(L),t=M(),n=t.user,r=t.setUser,a=(0,i.useCallback)((function(t,n){e.emit("login",{user:t,token:n},(function(e){console.log("got user from socket",e),r(e)}))}),[e,r]),l=(0,i.useCallback)((function(t){console.log("logout",t),e.emit("logout",{user:t},(function(e){console.log("got user from socket",e),r(e)}))}),[e,r]),o=(0,i.useCallback)((function(t){console.log("save",t),e.emit("editUser",t,(function(e){console.log("got updated user from socket",e),r(e)}))}),[e,r]);return{user:n,login:a,logout:l,save:o,reset:(0,i.useCallback)((function(){return e.emit("reset"),!0}),[e])}};const z=function(){var e=(0,i.useContext)(L),t=(0,i.useState)([]),n=(0,f.default)(t,2),r=n[0],a=n[1];(0,i.useEffect)((function(){var t=function(e){a(e)};return e.on("buyers",t),e.on("connect",(function(){return e.emit("buyers",t)})),function(){e.off("buyers",t),e.off("connect",t)}}),[e]);return[r,function(t){e.emit("editBuyer",t)},function(t){e.emit("addBuyer",t)},function(){return e.emit("buyers",(function(e){return a(e)}))}]};const N=function(){var e=(0,i.useContext)(L),t=(0,i.useState)([]),n=(0,f.default)(t,2),r=n[0],a=n[1];(0,i.useEffect)((function(){var t=function(e){a(e)};return e.on("suppliers",t),function(){e.off("suppliers",t)}}),[e]);return[r,function(t){e.emit("editSupplier",t)},function(t){e.emit("addSupplier",t)},function(){return e.emit("suppliers",(function(e){return a(e)}))}]};function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const _=function(e){var t=e.onLogin,n=q(),r=n.user,a=n.login,l=n.logout,o=n.reset,s=(0,i.useState)(!1),u=(0,f.default)(s,2),d=u[0],c=u[1],p=z(),g=(0,f.default)(p,4),v=g[0],P=g[3],w=N(),C=(0,f.default)(w,4),T=C[0],F=C[3],E=(0,i.useContext)(L),B=(0,i.useState)(E.connected),A=(0,f.default)(B,2),V=A[0],I=A[1];return(0,i.useEffect)((function(){P(),F(),E.on("connect",(function(){return I(!0)})),E.on("disconnect",(function(){return I(!1)}))}),[]),(0,i.useLayoutEffect)((function(){console.log("user",r),(null==r?void 0:r.online)&&l(r)}),[r]),(0,R.jsx)(b.default,{style:U.container,children:(0,R.jsxs)(x.default,{contentContainerStyle:U.scrollView,children:[(0,R.jsxs)(h.default,{children:[(0,R.jsx)(k.default,{style:U.title,children:"V\xe4lj anv\xe4ndare att testa med"}),(0,R.jsx)(S.default,{style:U.subheading,children:"Producent"}),T.map((function(e,n){return(0,R.jsxs)(h.default,{style:U.searchResult,children:[(0,R.jsx)(y.default,{size:30,style:U.avatar,source:{uri:"https://skaff-api.iteam.pub"+e.image}}),(0,R.jsxs)(j.default,{style:U.searchResultName,onPress:(0,m.default)((function*(){var n;try{n=yield D()}catch(r){console.log("push error",r)}a(e,n),t(e)})),children:[e.name," ",e.online&&" \ud83e\udd55"]})]},n)})),(0,R.jsx)(S.default,{style:W(W({},U.subheading),{},{marginTop:30}),children:"Best\xe4llare"}),v.map((function(e,n){return(0,R.jsxs)(h.default,{style:U.searchResult,children:[(0,R.jsx)(y.default,{size:30,style:U.avatar,source:{uri:"https://skaff-api.iteam.pub"+e.image}}),(0,R.jsxs)(j.default,{style:U.searchResultName,onPress:(0,m.default)((function*(){var n;try{n=yield D()}catch(r){console.log("push error",r)}a(e,n),t(e)})),children:[e.name," ",e.online&&" \ud83e\udd55"]})]},n)}))]}),(0,R.jsx)(O.default,{onPress:function(){return o()&&c(!0)||setTimeout((function(){return c(!1)}),1e4)},children:V?d?"\xc5terst\xe4ller...":"\xc5terst\xe4ll demo":"Server offline"})]})})};var U=v.default.create({title:{textAlign:"center",marginVertical:30},container:{flex:1,alignItems:"center",justifyContent:"space-around"},loginForm:{flex:1,alignItems:"center",justifyContent:"center"},scrollView:{flex:1,alignItems:"center",justifyContent:"space-around"},button:{margin:5},avatar:{marginRight:5},searchResultName:{paddingTop:10},searchResult:{flexDirection:"row",marginBottom:10},linkContainer:{flex:1,flexDirection:"row",marginBottom:10},subheading:{marginBottom:20}}),H=n(9422),G=n(7986),Y=n(2149),J=n(8551);const X=function(){var e=(0,i.useContext)(L),t=(0,i.useState)([]),n=(0,f.default)(t,2),r=n[0],a=n[1],l=M().user;(0,i.useEffect)((function(){if(e){var t=function(e){a(e.filter((function(e){var t,n;return null==(t=e.data)||null==(n=t.to)?void 0:n.contains(l.id)})))};return e.on("notifications",t),function(){e.off("notifications",t)}}}),[l,e]);return[r,function(){return e.emit("notifications",(function(e){return a(e)}))}]};const Q=function(){var e=(0,i.useContext)(L),t=(0,i.useState)([]),n=(0,f.default)(t,2),r=n[0],a=n[1];(0,i.useEffect)((function(){var t=function(e){a(e)};return e.on("offers",t),function(){e.off("offers",t)}}),[e]);return[r,function(t){e.emit("editOffer",t)},function(t){e.emit("addOffer",t)},function(){return e.emit("offers",(function(e){return a(e)}))}]};const Z=function(){var e=(0,i.useContext)(L),t=(0,i.useState)(new Array),n=(0,f.default)(t,2),r=n[0],a=n[1];(0,i.useEffect)((function(){var t=function(e){return a(e)};return e.on("tenderRequests",t),function(){e.off("tenderRequests",t)}}),[e]);return[r,function(t){console.log("editTenderRequest",t),e.emit("editTenderRequest",t)},function(t){console.log("addTenderRequest",t),e.emit("addTenderRequest",t)},function(){return e.emit("tenderRequests",(function(e){return a(e)}))}]};const $=function(){var e=(0,i.useContext)(L),t=(0,i.useState)([]),n=(0,f.default)(t,2),r=n[0],a=n[1];(0,i.useEffect)((function(){var t=function(e){a(e)};return e.on("deals",t),function(){e.off("deals",t)}}),[e]);return[r,function(t){e.emit("editDeal",t)},function(t){e.emit("addDeal",t)},function(){return e.emit("deals",(function(e){return a(e)}))}]};function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ne(e){var t=e.navigation,n=X(),r=(0,f.default)(n,2),a=r[0],l=r[1],o=Q(),s=(0,f.default)(o,4),u=s[0],d=(s[3],Z()),c=(0,f.default)(d,4),p=c[0],g=(c[3],$()),m=(0,f.default)(g,4),h=m[0];m[3];return(0,i.useEffect)((function(){l()}),[]),(0,R.jsxs)(G.default,{children:[0===a.length&&(0,R.jsx)(Y.default,{left:function(e){return(0,R.jsx)(J.default,te(te({},e),{},{icon:"bell-off"}))},title:"Inga notifikationer",description:"Du har inga notifikationer \xe4n. Pr\xf6va att skapa ett erbjudande eller en f\xf6rfr\xe5gan."}),a.map((function(e,n){return(0,R.jsx)(Y.default,{onPress:function(){switch(console.log("navigate to",e),e.data.type){case"offer":t.navigate("Offer",{offer:u.find((function(t){return t.id===e.data.id}))});break;case"tenderRequest":t.navigate("TenderRequest",{tenderRequest:p.find((function(t){return t.id===e.data.id}))});break;case"deal":t.navigate("Deal",{deal:h.find((function(t){return t.id===e.data.id}))})}},title:e.title,right:function(e){return(0,R.jsx)(J.default,te(te({},e),{},{icon:"chevron-right"}))},description:e.body,left:function(e){return(0,R.jsx)(J.default,te(te({},e),{},{icon:"bell"}))}},n)}))]})}var re=n(8279),ae=n(2321),ie=n(5053),le=n(7726),oe=n(4694),se=n(9846),ue=n(5899),de={Frozen:{title:"Djupfryst",image:"/assets/area_frozen_food.png"},"Fresh/Cooled":{title:"F\xe4rskvaror/Kylvaror",image:"/assets/area_fresh_or_cooled.png"},"Grocery/Specialty":{title:"Kolonial/Speceri",image:"/assets/area_groceries.png"},BakeryGoods:{title:"Bagerivaror"},DryGoods:{title:"Torrvaror"},CannedGoods:{title:"Konserver"},Beverages:{title:"Drycker"},CondimentsAndSpices:{title:"Kryddor och kryddblandningar"},DiaryProducts:{title:"Mejeriprodukter"},FishAndSeafood:{title:"Fisk och skaldjur"},Pastries:{title:"Konditorivaror"},Snacks:{title:"Snacks"},HealthFoods:{title:"H\xe4lsokost"},NonAlcoholicBeverages:{title:"Alkoholfria drycker"},Other:{title:"Other",image:"/assets/area_fruit.png"}},ce={organic:{title:"Organisk"},MSC:{title:"MSC"},kravMarked:{title:"Kravm\xe4rkt"},ethical:{title:"Etisk"},fairtrade:{title:"Fairtrade"},locallyProduced:{title:"N\xe4rodlad"}};function fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const ge=function(e){var t=e.navigation,n=i.useState({}),l=(0,f.default)(n,2),o=l[0],s=l[1],u=i.useState(""),d=(0,f.default)(u,2),c=d[0],p=d[1],g=i.useState(new Array),m=(0,f.default)(g,2),h=m[0],j=m[1],b=$(),v=(0,f.default)(b,4),y=v[0],k=v[3],O=q().user,S=i.useState({}),P=(0,f.default)(S,2),w=P[0],C=P[1];return i.useLayoutEffect((function(){k()}),[]),i.useEffect((function(){j(y.filter((function(e){return e.product.name.toLowerCase().includes(c.toLowerCase())})))}),[de,c,y]),i.useEffect((function(){var e=Object.entries(de).reduce((function(e,t){var n=(0,f.default)(t,2),a=n[0],i=n[1];return Object.assign(e,(0,r.default)({},a,pe(pe({},i),{},{count:h.filter((function(e){return e.commodity.area===i.title})).length})))}),{});C(e)}),[h]),(0,R.jsxs)(R.Fragment,{children:[(0,R.jsxs)(x.default,{children:[(0,R.jsx)(se.default,{placeholder:"S\xf6k erbjudande",onChangeText:p,value:c,style:me.searchbar}),Object.entries(w).map((function(e){var n=(0,f.default)(e,2)[1];return(0,R.jsxs)(ae.default,{children:[(0,R.jsx)(a.TouchableOpacity,{onPress:function(){return s((function(e){return pe(pe({},e),{},(0,r.default)({},n.title,!e[n.title]))}))},children:(0,R.jsx)(ae.default.Cover,{source:{uri:"https://skaff-api.iteam.pub"+n.image}})}),(0,R.jsxs)(le.default,{title:n.title,expanded:!!c||o[n.title]||void 0,children:[(0,R.jsx)(oe.default,{children:n.count+" varor"}),h.filter((function(e){return e.commodity.area===n.title})).sort((function(e,t){return e.product.name.localeCompare(t.product.name)})).map((function(e){return(0,R.jsx)(Y.default,{right:function(){return(0,R.jsxs)(ue.default,{children:[e.price.SEK_per_Kg," kr/kg"]})},title:e.product.name,description:e.product.brand,onPress:function(){return t.navigate("Deal",{deal:e})}},e.id)}))]})]},n.title)}))]}),"supplier"===(null==O?void 0:O.type)&&(0,R.jsx)(ie.default,{style:me.fab,onPress:function(){return t.navigate("CreateDeal")},icon:"plus"})]})};var me=v.default.create({searchbar:{backgroundColor:"white",elevation:!1,marginBottom:16},fab:{position:"absolute",margin:16,right:0,bottom:0},card:{margin:10,backgroundColor:"white"},cover:{height:200,borderRadius:0}}),he=n(4149),je=n(6790),be=n(9650),ve=n(1249),xe=n(3173),ye=n(6922),ke=n(1451),Oe=n(5640),Se=[{id:1,type:"question",text:"Vad h\xe4nder om sk\xf6rden blir mindre \xe4n t\xe4nkt?",date:"2021-05-01T12:00:00"},{id:2,type:"answer",text:"Vi f\xf6r en kontinuerlig dialog och l\xf6ser det i s\xe5 fall tillsammans.",date:"2021-05-01T12:01:00"},{id:3,type:"question",text:"Hur exakt \xe4r leveransplanen?",date:"2021-05-02T12:02:00"}],Pe=v.default.create({container:{padding:10,flexGrow:1,justifyContent:"flex-end"},messageContainer:{width:"70%",paddingHorizontal:16,paddingVertical:10,borderRadius:20,marginBottom:10},answer:{alignSelf:"flex-start",backgroundColor:"#757575",marginBottom:26},question:{alignSelf:"flex-end",backgroundColor:"#26CC77"},messageText:{fontSize:16,color:"#FFF"},messageMetadata:{alignSelf:"center",marginTop:-10,color:"#999"},inputContainer:{flexDirection:"row",alignItems:"center",marginTop:10},input:{flex:1,backgroundColor:"#FFF",paddingHorizontal:12,paddingVertical:8,borderRadius:20},sendButton:{marginLeft:10,backgroundColor:"#26CC77",paddingHorizontal:16,paddingVertical:8,borderRadius:20},sendButtonText:{color:"#FFF",fontSize:16}});const we=function(){var e=(0,i.useState)(""),t=(0,f.default)(e,2),n=t[0],r=t[1];return(0,R.jsx)(Oe.SafeAreaView,{style:{flex:1},children:(0,R.jsxs)(x.default,{contentContainerStyle:Pe.container,children:[Se.map((function(e,t){return(0,R.jsxs)(h.default,{children:[(0,R.jsx)(h.default,{style:[Pe.messageContainer,"question"===e.type?Pe.question:Pe.answer],children:(0,R.jsx)(j.default,{style:Pe.messageText,children:e.text})}),t===Se.length-1&&(0,R.jsx)(he.default,{style:Pe.messageMetadata,children:e.date})]},e.id)})),(0,R.jsxs)(h.default,{style:Pe.inputContainer,children:[(0,R.jsx)(a.TextInput,{style:Pe.input,value:n,onChangeText:r,placeholder:"Skriv din fr\xe5ga h\xe4r..."}),(0,R.jsx)(ke.default,{onPress:function(){var e;n&&(Se.push({id:((null==(e=Se.at(-1))?void 0:e.id)||0)+1,type:"question",text:n,date:(new Date).toISOString()}),r(""))},style:Pe.sendButton,children:(0,R.jsx)(j.default,{style:Pe.sendButtonText,children:"Skicka"})})]})]})})};function Ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Fe=function(e){var t=e.product,n=e.supplier,r=e.price;return(0,R.jsxs)(h.default,{style:Te(Te({},Le.container),Le.header),children:[(0,R.jsx)(je.default,{children:t.name}),(0,R.jsx)(S.default,{children:n.name}),(0,R.jsxs)(S.default,{style:{fontWeight:"bold"},children:[Math.round(r.SEK).toLocaleString("sv")," kr"]})]})},De=function(e){var t=e.children;return(0,R.jsx)(h.default,{style:{flexDirection:"row",marginBottom:10},children:t})},Ee=function(e){var t=e.children;return(0,R.jsx)(h.default,{style:{flexDirection:"column",marginRight:20,flex:1},children:t})},Be=function(e){var t=e.children;return(0,R.jsx)(h.default,{style:Le.container,children:t})};const Re=function(e){var t=e.route,r=e.navigation,a=i.useState(!1),l=(0,f.default)(a,2),o=l[0],s=(l[1],t.params.deal);if(!s)return r.back();q().user;var u=(0,be.useTheme)();console.log("deal",s);return i.useLayoutEffect((function(){r.setOptions({headerRight:function(){return(0,R.jsx)(O.default,{children:[],icon:o?"star":"star-outline",onPress:function(){n.g.alert("Ej implementerad \xe4n")}})}})}),[s,o]),(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(Fe,Te({},s)),(0,R.jsxs)(ye.Tabs,{uppercase:!1,style:{backgroundColor:"#D8F5E3"},dark:!1,theme:u,children:[(0,R.jsx)(ye.TabScreen,{label:"Information",children:(0,R.jsxs)(x.default,{children:[(0,R.jsxs)(Be,{children:[(0,R.jsxs)(De,{children:[(0,R.jsxs)(Ee,{children:[(0,R.jsx)(he.default,{children:"Tillverkare"}),(0,R.jsx)(ue.default,{children:s.product.manufacturer||"Ej k\xe4nt"})]}),(0,R.jsxs)(Ee,{children:[(0,R.jsx)(he.default,{children:"Varum\xe4rke"}),(0,R.jsx)(ue.default,{children:s.product.brand||"Ej k\xe4nt"})]})]}),(0,R.jsx)(De,{children:(0,R.jsxs)(Ee,{children:[(0,R.jsx)(he.default,{children:"Beskrivning"}),(0,R.jsxs)(ue.default,{children:[function(e){return e.commodity.group+" i kategorin "+e.commodity.mainGroup.toLocaleLowerCase()+" "+e.commodity.area.toLocaleLowerCase()}(s)," S\xe4ljs i paket om"," ",s.price.kilos.toLocaleString("sv"),"kg."]})]})}),(0,R.jsxs)(De,{children:[(0,R.jsxs)(Ee,{children:[(0,R.jsx)(he.default,{children:"Pris"}),(0,R.jsxs)(ue.default,{children:[s.price.SEK_per_Kg.toLocaleString("sv")," kr/kg"]})]}),(0,R.jsxs)(Ee,{children:[(0,R.jsx)(he.default,{children:"Paketstorlek"}),(0,R.jsxs)(ue.default,{children:[s.price.kilos.toLocaleString("sv")," kg"]})]})]})]}),(0,R.jsxs)(ve.default,{children:[(0,R.jsxs)(ve.default.Header,{children:[(0,R.jsx)(ve.default.Title,{children:"Milj\xf6m\xe4rkning"}),(0,R.jsx)(ve.default.Title,{children:"Godk\xe4nd"})]}),Object.entries(s.certifications).filter((function(e){return(0,f.default)(e,2)[1]})).map((function(e,t){var n=(0,f.default)(e,2),r=n[0],a=n[1];return(0,R.jsxs)(ve.default.Row,{children:[(0,R.jsx)(ve.default.Cell,{children:ce[r].title}),(0,R.jsx)(ve.default.Cell,{children:(0,R.jsx)(xe.default,{status:a?"checked":"unchecked"})})]},t)}))]}),(0,R.jsx)(h.default,{style:Le.actionContainer,children:(0,R.jsx)(O.default,{mode:"contained",onPress:function(){return r.navigate("TenderRequests",{screen:"CreateTenderRequest",params:{title:s.product.name}})},uppercase:!1,children:"Skapa anbudsf\xf6rfr\xe5gan"})})]})}),(0,R.jsx)(ye.TabScreen,{label:"Meddelande",children:(0,R.jsx)(we,{})})]})]})};var Le=v.default.create({container:{padding:16},header:{},actionContainer:{flexDirection:"row",display:"flex",alignItems:"center",justifyContent:"center",paddingBottom:20,paddingTop:20}}),Ae=n(6770),Ve=n(7220);const Ie=[{id:"1",type:"supplier",online:!1,name:"Kalles AB",image:"/assets/avatars/Image008.png",address:"Mejerigatan 2",zip:"653 43",postalAddress:"Karlstad",email:"info@kalles.se",produce:["Mor\xf6tter","Palsternackor","R\xe4disor"],description:"Vi \xe4r din lokala leverant\xf6r av n\xe4rproducerad mat och dryck fr\xe5n V\xe4rmland. Best\xe4ll lokalt och n\xe4rproducerat mathantverk som producerats d\xe4r du sj\xe4lv lever och bor - f\xf6r smakernas, djurens, m\xe4nniskornas och milj\xf6ns skull."},{id:"2",type:"supplier",online:!1,name:"Liljen\xe4s G\xe5rd",image:"/assets/avatars/Image009.png",address:"\xc4lvdalsv\xe4gen 35",zip:"683 93",postalAddress:"R\xe5da",email:"info@liljenasgard.se",produce:["Lammk\xf6tt","K\xf6ttf\xe4rs","N\xf6tf\xe4rs"],description:"Vi bevarar gamla traditioner i en modern tillverkning, det f\xe5r ta lite extra tid och vi v\xe4ljer v\xe5ra k\xf6ttleverant\xf6rer med omsorg. Vi vet genom v\xe5ra kunder att det \xe4r smaken och vetskapen att det \xe4r producerat med k\xe4rlek som avg\xf6r i slut\xe4ndan."},{id:"3",type:"supplier",online:!1,name:"Wermlands Mejeri",image:"/assets/avatars/Image010.png",address:"Gillbergav\xe4gen 2",zip:"661 95",postalAddress:"V\xe4rmlands Nys\xe4ter",email:"info@wermlandsmeeri.se",produce:["Komj\xf6lk","Yoghurt","Ost"],description:"V\xe4lkommen till Wermlands Mejeri. Ett mejeri med hj\xe4rtat i V\xe4rmlands Nys\xe4ter som s\xe4ljer n\xe4rproducerad mj\xf6lk och gr\xe4dde fr\xe5n v\xe4rml\xe4ndska kor."},{id:"3",type:"supplier",online:!1,name:"Magdakullan",image:"/assets/avatars/Image003.png",address:"Gillbergav\xe4gen 2",zip:"661 95",postalAddress:"V\xe4rmlands Nys\xe4ter",email:"info@wermlandsmeeri.se",produce:["Komj\xf6lk","Yoghurt","Ost"],description:"V\xe4lkommen till Wermlands Mejeri. Ett mejeri med hj\xe4rtat i V\xe4rmlands Nys\xe4ter som s\xe4ljer n\xe4rproducerad mj\xf6lk och gr\xe4dde fr\xe5n v\xe4rml\xe4ndska kor."}];const Me=[{id:"1",type:"buyer",online:!1,name:"Fredricelundsskolan",image:"/assets/avatars/Image003.png",address:"Tall\xe5sv\xe4gen 2",zip:"653 45",postalAddress:"Karlstad",email:"info@fredricelundsskolan.se",description:"N\xe4r du kommer till oss m\xf6ts du av gl\xe4dje och god st\xe4mning! Fredricelundsskolan \xe4r en skola med elever fr\xe5n f\xf6rskoleklass till \xe5rskurs 6 med cirka 280 elever. V\xe5r skola ligger p\xe5 V\xe5xn\xe4s cirka fyra kilometer nordv\xe4st om Karlstads centrum i ett naturfint omr\xe5de med park och skog i n\xe4rheten."},{id:"2",type:"buyer",name:"Fr\xf6dingskolan",image:"/assets/avatars/Image004.png",address:"Posthornsgatan 6",zip:"656 32",postalAddress:"Karlstad",email:"info@frodingskolan.se",description:"N\xe4r du kommer till Fr\xf6dingskolan m\xf6ts du av gl\xe4dje och nyfikenhet. Eleverna p\xe5 skolan kommer fr\xe5n m\xe5nga olika kulturella bakgrunder. Detta ger en dynamik i l\xe4randet och en h\xe4rlig atmosf\xe4r! Fr\xf6dingskolans fr\xe4msta m\xe5l \xe4r att ge goda kunskaper och st\xe4rka spr\xe5ket i alla \xe4mnen s\xe5 att eleverna \xe4r v\xe4l f\xf6rberedda f\xf6r vidare studier och arbetsliv."},{id:"3",type:"buyer",name:"Kvarnbergsskolan",image:"/assets/avatars/Image005.png",address:"\xd6lmegatan 10",zip:"656 30",postalAddress:"Karlstad",email:"info@kvarnbergsskolan.se",description:"Kvarnbergssskolan \xe4r en F-6 skola som ing\xe5r i Skolomr\xe5de Syd. En skola f\xf6r ALLA \xe4r viktigt f\xf6r oss p\xe5 Kvarnbergsskolan. Med forskningen som utg\xe5ngspunkt str\xe4var vi efter att skapa en kreativ milj\xf6 f\xf6r stor som liten."},{id:"4",type:"buyer",name:"V\xe5lbergsskolan",image:"/assets/avatars/Image006.png",address:"\xc5slidsgatan 4B",zip:"660 50",postalAddress:"V\xe5lberg",email:"info@valbergsskolan.se",description:"V\xe4lkommen till V\xe5lbergsskolan! F\xf6r oss \xe4r det viktigt att era barn f\xe5r ett bra bem\xf6tande och att vi har goda relationer med varandra."},{id:"5",type:"buyer",name:"Nyeds skola",image:"/assets/avatars/Image007.png",address:"",zip:"660 60",postalAddress:"Molkom",email:"info@nyedsskola.se",description:"V\xe5r str\xe4van \xe4r att v\xe5ra elever ska n\xe5 h\xf6ga resultat som ger goda f\xf6ruts\xe4ttningar f\xf6r vidare studier, ett gott liv och hopp om en meningsfull framtid"}];const qe=function(e){var t=e.navigation,n=i.useState(""),r=(0,f.default)(n,2),a=r[0],l=r[1],o=((0,be.useTheme)(),Ie.filter((function(e){return e.name.toLowerCase().includes(a.toLowerCase())}))),s=Me.filter((function(e){return e.name.toLowerCase().includes(a.toLowerCase())}));return(0,R.jsx)(b.default,{children:(0,R.jsxs)(x.default,{children:[(0,R.jsx)(se.default,{placeholder:"S\xf6k producent/best\xe4llare",onChangeText:l,value:a,style:ze.searchbar}),(0,R.jsxs)(h.default,{style:ze.container,children:[(0,R.jsx)(S.default,{style:ze.header,children:"Producenter"}),o.map((function(e,n){return(0,R.jsxs)(h.default,{style:ze.searchResult,children:[(0,R.jsx)(y.default,{size:30,style:ze.avatar,source:{uri:"https://skaff-api.iteam.pub"+e.image}}),(0,R.jsx)(ue.default,{style:ze.searchResultName,onPress:function(){return t.navigate("Supplier",{supplier:e})},children:e.name})]},n)})),0===a.length&&(0,R.jsx)(h.default,{style:ze.linkContainer,children:(0,R.jsxs)(O.default,{uppercase:!1,children:["Ans\xf6k om att bli ansluten"," ",(0,R.jsx)(Ve.default,{name:"open-in-new",color:"black",size:20})]})}),(0,R.jsx)(Ae.default,{}),(0,R.jsx)(S.default,{style:ze.header,children:"Best\xe4llare"}),s.map((function(e){return(0,R.jsxs)(h.default,{style:ze.searchResult,children:[(0,R.jsx)(y.default,{size:30,style:ze.avatar,source:{uri:"https://skaff-api.iteam.pub"+e.image}}),(0,R.jsx)(ue.default,{style:ze.searchResultName,onPress:function(){return t.navigate("Buyer",{buyer:e})},children:e.name})]},e.id)}))]})]})})};var ze=v.default.create({container:{padding:10},title:{fontWeight:"bold",marginBottom:10},searchbar:{backgroundColor:"white",elevation:!1,marginBottom:16},header:{marginTop:20,marginBottom:10},avatar:{marginRight:5},searchResultName:{paddingTop:10},searchResult:{flex:1,flexDirection:"row",marginBottom:10},linkContainer:{flex:1,flexDirection:"row",marginBottom:10}}),Ne=n(9652),Ke=n(6458);const We=function(e){var t,n=e.route,r=e.navigation,a=e.editable,l=n.params.supplier;return console.log("supplier",l),(0,i.useEffect)((function(){l&&(r.header="Profil",r.setOptions({title:l.name}))}),[l]),(0,R.jsx)(x.default,{style:_e.scrollView,children:l&&(0,R.jsxs)(h.default,{style:_e.headerContainer,children:[a&&(0,R.jsx)(Ke.default,{icon:"pencil",size:20,style:_e.editButton}),(0,R.jsx)(y.default,{size:150,style:_e.avatar,source:{uri:"https://skaff-api.iteam.pub"+l.image}}),(0,R.jsx)(ue.default,{style:_e.address,children:l.address}),(0,R.jsxs)(ue.default,{style:_e.address,children:[l.zip," ",l.postalAddress]}),(0,R.jsx)(ue.default,{style:_e.email,children:l.email}),(0,R.jsx)(Ae.default,{style:_e.divider}),(0,R.jsx)(S.default,{style:_e.subHeading,children:"Varor"}),null==l||null==(t=l.produce)?void 0:t.map((function(e){return(0,R.jsx)(ue.default,{style:_e.produce,children:e},e)})),(0,R.jsx)(S.default,{style:_e.subHeading,children:"Presentation"}),(0,R.jsx)(Ne.default,{style:_e.description,children:l.description})]})})};var _e=v.default.create({scrollView:{padding:10},headerContainer:{width:"100%"},heading:{marginTop:20,alignSelf:"center",fontWeight:"bold"},avatar:{alignSelf:"center",marginBottom:10},address:{alignSelf:"center",marginTop:5},email:{alignSelf:"center",marginTop:15},produce:{marginTop:3},description:{marginTop:3,lineHeight:20},divider:{marginTop:20},subHeading:{marginTop:20},editButton:{alignSelf:"flex-end"}});const Ue=function(e){var t=e.route,n=e.navigation,r=e.editable,a=t.params.buyer;return(0,i.useEffect)((function(){a&&(n.header="Profil",n.setOptions({title:a.name}))}),[a]),(0,R.jsx)(x.default,{style:He.scrollView,children:a&&(0,R.jsxs)(h.default,{style:He.headerContainer,children:[r?(0,R.jsx)(Ke.default,{icon:"pencil",size:20,style:He.editButton}):(0,R.jsx)(k.default,{style:He.heading,children:a.name}),(0,R.jsx)(y.default,{size:150,style:He.avatar,source:{uri:"https://skaff-api.iteam.pub"+a.image}}),(0,R.jsx)(ue.default,{style:He.address,children:a.address}),(0,R.jsxs)(ue.default,{style:He.address,children:[a.zip," ",a.postalAddress]}),(0,R.jsx)(ue.default,{style:He.email,children:a.email}),(0,R.jsx)(h.default,{style:He.menuContainer,children:(0,R.jsxs)(O.default,{style:He.menuLink,uppercase:!1,children:["Planerad matsedel"," ",(0,R.jsx)(Ve.default,{name:"open-in-new",color:"black",size:20})]})}),(0,R.jsx)(S.default,{children:"Presentation"}),(0,R.jsx)(Ne.default,{style:He.description,children:a.description})]})})};var He=v.default.create({scrollView:{padding:10},headerContainer:{width:"100%"},heading:{marginTop:20,alignSelf:"center",fontWeight:"bold"},avatar:{alignSelf:"center",marginBottom:10},address:{alignSelf:"center",marginTop:5},email:{alignSelf:"center",marginTop:15},description:{lineHeight:20},menuContainer:{flex:1,flexDirection:"row",marginTop:20,marginBottom:10},menuLink:{marginLeft:-12},editButton:{alignSelf:"flex-end"}});const Ge=function(){var e=(0,H.default)();return(0,R.jsx)(R.Fragment,{children:(0,R.jsxs)(e.Navigator,{children:[(0,R.jsx)(e.Screen,{name:"ExploreSuppliersAndBuyers",options:{title:"Utforska"},component:qe}),(0,R.jsx)(e.Screen,{name:"Supplier",options:{title:"Utforska producent"},component:We}),(0,R.jsx)(e.Screen,{name:"Buyer",options:{title:"Utforska best\xe4llare"},component:Ue})]})})};var Ye=function(){return(0,R.jsx)(Ve.default,{size:25,style:{marginRight:20},name:"chevron-right"})};const Je=function(e){var t=e.navigation,n=(0,i.useState)(""),r=(0,f.default)(n,2),a=r[0],l=r[1],o=(0,i.useState)(!0),s=(0,f.default)(o,2),u=s[0],d=s[1],c=q().user,p=Z(),g=(0,f.default)(p,4),m=g[0],h=(g[1],g[2],g[3]);i.useLayoutEffect((function(){h()}),[]);var j=!a&&m||m.filter((function(e){return e.title.toLowerCase().includes(a.toLowerCase())}));return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsxs)(x.default,{children:[(0,R.jsx)(se.default,{placeholder:"S\xf6k upphandling",onChangeText:l,value:a,style:Xe.searchbar}),(0,R.jsxs)(G.default,{children:[(0,R.jsx)(le.default,{title:"Aktiva upphandlingar",onPress:function(){return d(!u)},expanded:u,children:j.map((function(e,n){return(0,R.jsx)(ae.default,{style:Xe.card,onPress:function(){return t.navigate("TenderRequest",{tenderRequest:e})},children:(0,R.jsx)(ae.default.Title,{titleVariant:"titleSmall",titleStyle:{fontSize:14},title:e.title,subtitle:e.buyer.name,right:function(e){return(0,R.jsx)(Ye,{})}})},n)}))}),(0,R.jsx)(le.default,{title:"Favoritmarkerade",children:(0,R.jsx)(ae.default,{style:Xe.card,children:(0,R.jsx)(ae.default.Title,{titleVariant:"titleSmall",titleStyle:{fontSize:14},title:"Favoritupphandling 1",subtitle:"K\xf6pare 1",right:function(e){return(0,R.jsx)(Ye,{})}})})})]})]}),"buyer"===(null==c?void 0:c.type)&&(0,R.jsx)(ie.default,{style:Xe.fab,onPress:function(){return t.navigate("CreateTenderRequest")},icon:"plus"})]})};var Xe=v.default.create({fab:{position:"absolute",margin:16,right:0,bottom:0},card:{margin:10,backgroundColor:"white"},cover:{height:200,borderRadius:0},container:{paddingHorizontal:16,paddingTop:16},label:{fontSize:16,marginBottom:8},title:{marginHorizontal:16},checkboxContainer:{flexDirection:"row",marginBottom:16},checkbox:{flexDirection:"row",alignItems:"center",marginRight:16},searchbar:{backgroundColor:"white",elevation:!1,marginBottom:16}});function Qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qe(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $e=function(){return(0,R.jsx)(Ve.default,{size:25,style:{marginRight:20},name:"chevron-right"})},et=function(e){var t=e.children;return(0,R.jsx)(h.default,{style:{flexDirection:"row"},children:t})},tt=function(e){var t=e.children;return(0,R.jsx)(h.default,{style:{flexDirection:"column",marginRight:20},children:t})},nt=function(e){var t=e.children,n=e.style;return(0,R.jsx)(h.default,{style:Ze(Ze({},at.container),n),children:t})};const rt=function(e){var t,n,r,a,l,o,s,u,d=e.route,c=e.navigation,p=(0,i.useState)([]),g=(0,f.default)(p,2),m=g[0],j=g[1],b=Z(),v=(0,f.default)(b,4),y=v[0],k=(v[3],Q()),P=(0,f.default)(k,4),w=P[0],C=P[1],T=P[3],F=(0,i.useState)(d.params.tenderRequest),D=(0,f.default)(F,2),E=D[0],B=D[1],L=(0,be.useTheme)(),A=q().user;if(d.params.tenderRequestId&&B(y.find((function(e){return e.id===d.params.tenderRequestId}))),!E)return(0,R.jsxs)(ue.default,{children:["Loading... ",d.params.tenderRequestId]});(0,i.useEffect)((function(){if(E.id){var e=w.filter((function(e){return e.tenderRequestId===E.id}));j(e);var t=y.find((function(e){return e.id===E.id}));t&&B(t)}}),[E,w]);var V=m.filter((function(e){return e.supplier.id===(null==A?void 0:A.id)&&e.tenderRequestId===E.id}));return(0,i.useEffect)((function(){T()}),[E]),(0,R.jsxs)(R.Fragment,{children:[(0,R.jsxs)(h.default,{style:Ze({},at.header),children:[(0,R.jsx)(je.default,{children:E.title}),(0,R.jsx)(S.default,{children:null==(t=E.buyer)?void 0:t.name})]}),(0,R.jsxs)(ye.Tabs,{uppercase:!1,style:{backgroundColor:"#D8F5E3"},theme:L,children:[(0,R.jsx)(ye.TabScreen,{label:"F\xf6rfr\xe5gan",children:(0,R.jsxs)(x.default,{children:[(0,R.jsx)(nt,{children:(0,R.jsxs)(et,{children:[(0,R.jsxs)(tt,{children:[(0,R.jsx)(he.default,{children:"Sista svar"}),(0,R.jsx)(ue.default,{children:(null==(n=E.lastOfferDate)?void 0:n.toString().split("T")[0])||"Inget datum"})]}),(0,R.jsxs)(tt,{children:[(0,R.jsx)(he.default,{children:"Tilldelning senast"}),(0,R.jsx)(ue.default,{children:(null==(r=E.lastAwardDate)?void 0:r.toString().split("T")[0])||"Inget datum"})]})]})}),(0,R.jsx)(nt,{children:(0,R.jsxs)(et,{children:[(0,R.jsxs)(tt,{children:[(0,R.jsx)(he.default,{children:"Leveransplan"}),(0,R.jsx)(ue.default,{children:E.deliveryPlan})]}),(0,R.jsxs)(tt,{children:[(0,R.jsx)(he.default,{children:"F\xf6rsta leverans"}),(0,R.jsx)(ue.default,{children:null==(a=E.deliveryStartDate)?void 0:a.toString().split("T")[0]})]})]})}),(0,R.jsxs)(nt,{children:[(0,R.jsx)(S.default,{children:"Villkor"}),(0,R.jsx)(Ne.default,{children:E.terms})]}),(0,R.jsx)(Ae.default,{}),(0,R.jsxs)(nt,{children:[(0,R.jsx)(S.default,{children:"Urval"}),(0,R.jsx)(Ne.default,{children:E.grading})]}),(0,R.jsxs)(nt,{children:[(0,R.jsx)(S.default,{children:"Krav"}),null==(l=E.qualificationCriteria)?void 0:l.map((function(e,t){return(0,R.jsx)(Ne.default,{children:e},t)}))]}),(0,R.jsxs)(nt,{children:[(0,R.jsx)(S.default,{children:"\xd6nskem\xe5l"}),null==(o=E.optionalCriteria)?void 0:o.map((function(e,t){return(0,R.jsx)(Ne.default,{children:e},t)}))]}),(0,R.jsxs)(nt,{style:{flexDirection:"row",display:"flex",backgroundColor:"#DCF6FE",margin:20,padding:10,paddingTop:10,paddingBottom:10},children:[(0,R.jsx)(Ve.default,{name:"exclamation",color:"black",size:20}),(0,R.jsx)(Ne.default,{style:{paddingLeft:10,paddingRight:20},children:"Ett uppfyllt \xf6nskem\xe5l genererar, i j\xe4mf\xf6relsen mot andra anbud, ett prisavdrag motsvarande det uppskattade v\xe4rdet. Offererat pris \xe4r fortfarande det som g\xe4ller vid fakturering."})]})]})}),(0,R.jsx)(ye.TabScreen,{label:"Meddelande",children:(0,R.jsx)(we,{})}),(0,R.jsx)(ye.TabScreen,{label:"Anbud",children:(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(R.Fragment,{children:"supplier"===(null==A?void 0:A.type)&&(0,R.jsxs)(nt,{children:[!V.length&&(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(Ne.default,{children:"F\xf6r att l\xe4mna anbud m\xe5ste du vara ansluten till detta DIS. F\xf6r att kontrollera att du \xe4r det kan du g\xe5 till xx..yy.z"}),(0,R.jsx)(O.default,{mode:"contained",onPress:function(){c.navigate("TenderRequests",{screen:"CreateOffer",params:{tenderRequest:E}})},children:"L\xe4mna anbud"})]}),(0,R.jsxs)(G.default,{children:[(0,R.jsx)(oe.default,{children:"Dina skickade anbud"}),V.map((function(e,t){var n;return(0,R.jsx)(ae.default,{style:at.card,onPress:function(){console.log("pressed",e),c.navigate("Supplier",{supplier:e.supplier})},children:(0,R.jsx)(ae.default.Title,{titleVariant:"titleSmall",titleStyle:{fontSize:14},left:function(e){return(0,R.jsx)(Ve.default,{name:"file-document-outline",color:"black",size:24})},title:e.price.SEK+" kr",subtitle:"Inl\xe4mnad "+(null==(n=e.submissionDate)?void 0:n.toString().split("T")[0])+". "+(e.approved?"Vunnen":"Ej godk\xe4nt"),right:function(e){return(0,R.jsx)($e,{})}})},t)}))]})]})}),"buyer"===(null==A?void 0:A.type)&&(null==(s=E.buyer)?void 0:s.id)==(null==A?void 0:A.id)&&(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(nt,{children:(0,R.jsx)(Ne.default,{children:"Inskickade anbud sorteras efter l\xe4gsta pris med eventuella avdrag f\xf6r uppfyllda \xf6nskem\xe5l."})}),(0,R.jsxs)(nt,{children:[(0,R.jsx)(S.default,{children:"Matchande anbud"}),m.map((function(e,t){var n,r;return(0,R.jsx)(ae.default,{style:at.card,children:(0,R.jsx)(ae.default.Title,{titleVariant:"titleSmall",titleStyle:{fontSize:14},title:null==(n=e.supplier)?void 0:n.name,subtitle:"Inkom "+(null==(r=e.submissionDate)?void 0:r.toString().split("T")[0]),right:function(t){return e.approved?(0,R.jsxs)(nt,{style:{flexDirection:"row",display:"flex"},children:[(0,R.jsx)(Ve.default,{size:25,name:"clipboard-check"}),(0,R.jsx)(ue.default,{style:{marginLeft:5,marginTop:5},children:"Tilldelad"})]}):m.filter((function(e){return e.approved})).length<1?(0,R.jsx)(O.default,{icon:"clipboard-check",mode:"contained",uppercase:!1,style:{marginRight:10},onPress:function(){console.log("offer",e),C(Ze(Ze({},e),{},{approved:!0}))},children:"Tilldela"}):void 0}})},t)}))]}),(0,R.jsxs)(nt,{children:[(0,R.jsx)(Ae.default,{}),(0,R.jsx)(S.default,{children:"Ej uppfyllda anbud"})]})]}),"buyer"===(null==A?void 0:A.type)&&(null==(u=E.buyer)?void 0:u.id)!=(null==A?void 0:A.id)&&(0,R.jsx)(nt,{children:(0,R.jsx)(Ne.default,{children:"Som best\xe4llare kan du inte l\xe4mna anbud p\xe5 andra best\xe4llares anbudsf\xf6rfr\xe5gningar."})})]})})]})]})};var at=v.default.create({header:{margin:16},container:{paddingLeft:20,paddingRight:20,paddingTop:20,paddingBottom:5},card:{marginTop:5,marginBottom:5,backgroundColor:"white"}});const it=function(e){var t,n=e.offer,r=(e.navigation,e.user);null==r||r.type,null==r||r.type;return(0,R.jsx)(ae.default,{style:lt.card,children:(0,R.jsx)(ae.default.Title,{title:n.price.SEK+" kr - "+n.buyer.name,titleVariant:"titleSmall",titleStyle:{fontSize:14},subtitle:"Inl\xe4mnat: "+(null==(t=n.submissionDate)?void 0:t.toString().split("T")[0]),right:function(e){return(0,R.jsx)(O.default,{icon:"chevron-right"})}})})};var lt=v.default.create({header:{margin:16},card:{margin:10,backgroundColor:"white"},infoCard:{marginTop:5,marginBottom:5}});function ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function st(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ot(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ot(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const ut=function(e){var t=e.route,n=e.navigation,r=(0,be.useTheme)(),l=(0,i.useState)(!0),o=(0,f.default)(l,2),s=o[0],u=o[1],d=q(),c=d.user,p=d.logout,g=Q(),m=(0,f.default)(g,4),h=m[0],j=m[3];return c?((0,i.useEffect)((function(){c&&(n.header="Profil",n.setOptions({title:c.name}))}),[c]),(0,i.useEffect)((function(){j()}),[]),(0,R.jsxs)(R.Fragment,{children:[(0,R.jsxs)(ye.Tabs,{uppercase:!1,style:{backgroundColor:"#D8F5E3"},theme:r,children:[(0,R.jsx)(ye.TabScreen,{label:"Aktuellt",children:(0,R.jsxs)(a.ScrollView,{children:[(0,R.jsxs)(le.default,{title:"Anbud",expanded:s,onPress:function(){return u((function(e){return!e}))},children:[(0,R.jsx)(oe.default,{children:"Inskickade anbud"}),0===h.length&&(0,R.jsx)(ae.default.Title,{title:"Inga anbud",subtitle:"Du har inte skickat in n\xe5gra anbud"}),h.map((function(e){return(0,R.jsx)(it,{user:c,offer:e,navigation:n},e.id)})),(0,R.jsx)(oe.default,{children:"Utkast"}),(0,R.jsx)(ae.default,{children:(0,R.jsx)(ae.default.Title,{title:"Potatis",subtitle:"1 500 kg | Nyeds skola, Molkom"})}),(0,R.jsx)(oe.default,{children:"Favoriter"})]}),(0,R.jsx)(Ae.default,{}),(0,R.jsxs)(le.default,{title:"Erbjudanden",expanded:!0,children:[(0,R.jsx)(oe.default,{children:"Publicerade"}),(0,R.jsx)(ae.default,{children:(0,R.jsx)(ae.default.Title,{title:"Fina mor\xf6tter",subtitle:"Upp till 5 000 kg per \xe5r, leverans veckovis"})}),(0,R.jsx)(oe.default,{children:"Utkast"})]})]})}),(0,R.jsx)(ye.TabScreen,{label:"Mina avtal",children:(0,R.jsxs)(a.ScrollView,{children:[(0,R.jsxs)(le.default,{title:"P\xe5g\xe5ende",expanded:!0,children:[(0,R.jsx)(ae.default,{children:(0,R.jsx)(ae.default.Title,{title:"Mor\xf6tter",subtitle:"500 kg | Fredricelundsskolan, Karlstad"})}),(0,R.jsx)(ae.default,{children:(0,R.jsx)(ae.default.Title,{title:"Mor\xf6tter",subtitle:"700 kg | Nyeds skola, Molkom"})})]}),(0,R.jsx)(Ae.default,{}),(0,R.jsx)(le.default,{title:"Avslutade",children:(0,R.jsx)(ae.default,{children:(0,R.jsx)(ae.default.Title,{title:"Mor\xf6tter",subtitle:"500 kg | Nyeds skola, Molkom"})})})]})}),(0,R.jsx)(ye.TabScreen,{label:"Profil",children:(0,R.jsx)(We,{route:st(st({},t),{},{params:{supplier:c}}),navigation:n,editable:!0})})]}),(0,R.jsx)(O.default,{mode:"outlined",onPress:function(){return n.popToTop()||p(c)},children:"Logga ut"})]})):null};const dt=function(e){var t=e.name,n=e.focused,r=(0,be.useTheme)();return(0,R.jsx)(Ve.default,{name:t,color:n?r.colors.primary:r.colors.iconInactive,size:20})};var ct=n(3122);function ft(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ft(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ft(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const gt=function(e){var t=e.label,n=e.value,r=e.keyboardType,a=e.disabled,i=e.multiline,l=e.numberOfLines,o=e.styles,s=e.placeholder,u=e.outlined,d=e.onChange,c=(0,be.useTheme)();return(0,R.jsx)(ct.default,{theme:pt(pt({},c),{},{colors:pt(pt({},c.colors),{},{background:"#FFFFFF"}),roundness:0}),style:pt({backgroundColor:"white"},o),keyboardType:r,label:t,value:n,onChangeText:d,disabled:a,placeholder:s,multiline:i,numberOfLines:l,mode:void 0!=u||u?"outlined":"flat"})};var mt=n(399);function ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ht(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ht(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const bt=function(e){var t=e.label,n=e.value,r=e.values,a=e.multiSelect,l=e.setValue,o=(0,i.useState)(!1),s=(0,f.default)(o,2),u=s[0],d=s[1],c=(0,be.useTheme)();return(0,R.jsx)(mt.default,{theme:jt(jt({},c),{},{colors:jt(jt({},c.colors),{},{background:"#FFFFFF"})}),dropDownStyle:{width:"100%"},inputProps:{style:{backgroundColor:"#FFFFFF"}},label:t,value:n,setValue:l,list:r,visible:u,showDropDown:function(){return d(!0)},onDismiss:function(){return d(!1)},multiSelect:a})};var vt=n(5781);function xt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xt(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const kt=function(e){var t=e.label,n=e.value,r=e.onChange,a=(0,be.useTheme)();return(0,R.jsx)(vt.DatePickerInput,{theme:yt(yt({},a),{},{colors:yt(yt({},a.colors),{},{background:"#FFFFFF"})}),style:{backgroundColor:"#FFFFFF"},locale:"sv",label:t,value:n,onChange:r,inputMode:"start"})};function Ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function St(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ot(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ot(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Pt=v.default.create({actionContainer:{flexDirection:"row",display:"flex",alignItems:"center",justifyContent:"center",paddingLeft:20,paddingBottom:20,paddingTop:20}});const wt=function(e){var t,n,r,a=e.route,l=e.navigation,o=(null==a||null==(t=a.params)||t.id,(0,i.useState)("")),s=(0,f.default)(o,2),u=s[0],d=s[1],c=(0,i.useState)(""),p=(0,f.default)(c,2),g=p[0],m=p[1],j=(0,i.useState)(""),v=(0,f.default)(j,2),y=v[0],k=v[1],S=(0,i.useState)(""),P=(0,f.default)(S,2),w=P[0],C=P[1],T=(0,i.useState)(new Date),F=(0,f.default)(T,2),D=F[0],E=F[1],B=(0,i.useState)(new Date),L=(0,f.default)(B,2),A=L[0],V=L[1],I=(0,i.useState)(""),q=(0,f.default)(I,2),z=q[0],N=q[1],K=(0,i.useState)(""),W=(0,f.default)(K,2),_=W[0],U=W[1],H=[{label:"B\xe4st f\xf6re",value:"0"},{label:"Sista f\xf6rbrukningsdag",value:"1"}],G=$(),Y=(0,f.default)(G,3)[2],J={id:0,product:{name:u},price:{SEK:+g,SEK_per_Kg:+g/+y,kilos:+y},volume:+y,supplier:M().user,constraint:(n=w,r=H,n.split(",").map((function(e){var t;return null==(t=r.find((function(t){return t.value==e})))?void 0:t.label})).filter((function(e){return e}))).pop(),date:D,endDate:A,other:_,description:z,commodity:{area:"Other",mainGroup:"Other",group:"Other"},certifications:{organic:!1,MSC:!1,kravMarked:!1,ethical:!1,fairtrade:!1,locallyProduced:!1},origin:{productManufacturingCountry:"Sverige",rawMaterialOriginCountry:"Sverige"}};(0,i.useEffect)((function(){l.setOptions({headerRight:function(){return(0,R.jsx)(O.default,{onPress:function(){return X(J)},children:"Publicera"})}})}),[]);var X=function(e){Y(e),l.navigate("ListDeals")};return(0,R.jsx)(b.default,{children:(0,R.jsxs)(x.default,{children:[(0,R.jsx)(gt,{label:"Namn p\xe5 vara",value:u,placeholder:'t ex "\xc4pplen"',onChange:function(e){return d(e)}}),(0,R.jsx)(gt,{keyboardType:"numeric",label:"Volym eller vikt (kg/liter)",value:y,placeholder:"t ex 10kg eller 5 liter",onChange:function(e){return k(e)}}),(0,R.jsx)(gt,{keyboardType:"numeric",label:"Pris",placeholder:"tex 20kr/kg eller 10kr/liter",value:g,onChange:function(e){return m(e)}}),(0,R.jsx)(kt,{label:"Sista datum f\xf6r erbjudande",value:A,onChange:function(e){e&&V(e)}}),(0,R.jsx)(bt,{label:"Ev datumbegr\xe4nsning",value:w,setValue:C,values:H}),w&&(0,R.jsx)(kt,{label:"0"==w?"B\xe4st f\xf6re":"Sista f\xf6rbrukningsdag",value:D,onChange:function(e){e&&E(e)}}),(0,R.jsx)(h.default,{style:St(St({},Pt.actionContainer),{},{justifyContent:"flex-start",backgroundColor:"#FFFFFF"}),children:(0,R.jsx)(O.default,{icon:"camera",mode:"contained",uppercase:!1,children:"L\xe4gg till bild"})}),(0,R.jsx)(gt,{label:"Kort beskrivning",value:z,placeholder:'t ex "Ekologiskt, ursprung Sverige"',onChange:function(e){return N(e)}}),(0,R.jsx)(gt,{label:"\xd6vrigt",value:_,onChange:function(e){return U(e)}}),(0,R.jsx)(h.default,{style:Pt.actionContainer,children:(0,R.jsx)(O.default,{onPress:function(){l.navigate("ListDeals")},uppercase:!1,children:"Rensa utkast"})})]})})};var Ct=n(9570),Tt=n(4018),Ft=n(4637),Dt=v.default.create({checkbox:{},checkboxContainer:{flexDirection:"row"}});const Et=function(e){var t=e.checkedByDefault,n=e.text,r=e.onChange,a=(0,i.useState)(t),l=(0,f.default)(a,2),o=l[0],s=l[1],u=(0,be.useTheme)();return(0,R.jsxs)(h.default,{style:Dt.checkboxContainer,children:[(0,R.jsx)(xe.default,{status:o?"checked":"unchecked",onPress:function(){r(!o),s(!o)},color:u.colors.primary}),(0,R.jsx)(Ft.default,{onPress:function(){r(!o),s(!o)},children:(0,R.jsx)(ue.default,{style:{paddingTop:10},children:n})})]})};var Bt=n(7385);function Rt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Lt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rt(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var At=v.default.create({container:{paddingLeft:10,paddingRight:10,paddingBottom:10,paddingTop:10},text:{paddingTop:5},divider:{borderColor:"#D8D6CE",borderWidth:.5,marginTop:20,marginBottom:10},surface:{backgroundColor:"#FFFFFF",elevation:0}});const Vt=function(e){var t,n,r,a,l,o,s=e.navigation,u=e.route,d=(0,i.useState)(Array),c=(0,f.default)(d,2),p=c[0],g=c[1],m=(0,i.useState)(Array),j=(0,f.default)(m,2),v=j[0],x=j[1],y=q().user,k=Q(),P=(0,f.default)(k,4),w=P[2],C=P[3],T=(0,i.useState)(""),F=(0,f.default)(T,2),D=F[0],E=F[1],B=(0,i.useState)(""),L=(0,f.default)(B,2),A=L[0],V=L[1],I=(0,i.useState)({}),M=(0,f.default)(I,2),z=M[0],N=M[1],K=null==(t=u.params)?void 0:t.tenderRequest;(0,i.useEffect)((function(){N({qualificationCriteriasMet:v,optionalCriteriasMet:v,price:{SEK:+D},other:A,tenderRequestId:K.id,approved:!1,submissionDate:new Date,supplier:y,buyer:K.buyer,id:Bt.default.v4()})}),[p,v,D,A,K,y]),(0,i.useEffect)((function(){C()}),[K]),(0,i.useLayoutEffect)((function(){s.setOptions({headerRight:function(){return(0,R.jsx)(O.default,{onPress:function(){return W(z)},children:"Skicka"})}})}),[z]);var W=function(e){if(!K.id)return console.error("no tenderRequest.id");console.log("publish offer",e),w(e),s.navigate("TenderRequest",{tenderRequest:K})};return(0,R.jsx)(b.default,{children:(0,R.jsxs)(Tt.default,{children:[(0,R.jsxs)(h.default,{style:At.container,children:[(0,R.jsx)(je.default,{children:K.title}),(0,R.jsxs)(ue.default,{style:At.text,children:[K.volume," kg"]}),(0,R.jsx)(Ae.default,{style:At.divider}),(0,R.jsxs)(ue.default,{style:At.text,children:["Sista svar: ",null==(n=K.lastOfferDate)?void 0:n.toString().split("T")[0]]}),(0,R.jsxs)(ue.default,{style:At.text,children:["Tilldelning senast:"," ",null==(r=K.lastAwardDate)?void 0:r.toString().split("T")[0]]}),(0,R.jsxs)(ue.default,{style:At.text,children:["Leveransplan: ",K.deliveryPlan]}),(0,R.jsxs)(ue.default,{style:At.text,children:["Leverans startdatum:"," ",null==(a=K.deliveryStartDate)?void 0:a.toString().split("T")[0]]}),(0,R.jsx)(S.default,{style:At.text,children:"Villkor"}),(0,R.jsx)(ue.default,{style:At.text,children:"Producent ansvarar f\xf6r leverans enligt \xf6verenskommelse."}),(0,R.jsx)(Ae.default,{style:At.divider}),(0,R.jsx)(S.default,{style:At.text,children:"Urval"}),(0,R.jsx)(ue.default,{style:At.text,children:"Inl\xe4mnade anbud som uppfyller krav rangordnas efter offererat pris. Uppfyllda \xf6nskem\xe5l ger prisavdrag vid rangordning av anbud."})]}),(0,R.jsx)(Ct.default,{style:At.surface,children:(0,R.jsxs)(h.default,{style:At.container,children:[(0,R.jsx)(S.default,{children:"Krav"}),null==(l=K.qualificationCriteria)?void 0:l.map((function(e,t){return(0,R.jsx)(Et,{text:e,checkedByDefault:!1,onChange:function(t){var n=p.filter((function(t){return t!=e}));t&&n.push(e),g(n)}},t)})),(0,R.jsx)(S.default,{children:"\xd6nskem\xe5l"}),null==(o=K.optionalCriteria)?void 0:o.map((function(e,t){return(0,R.jsx)(Et,{text:e,checkedByDefault:!1,onChange:function(t){var n=v.filter((function(t){return t!=e}));t&&n.push(e),x(n)}},t)})),(0,R.jsx)(S.default,{children:"Offererat pris"}),(0,R.jsx)(gt,{label:"Pris i kr",value:D,keyboardType:"numeric",outlined:!0,styles:{width:300,marginBottom:10},onChange:function(e){return E(e)}}),(0,R.jsx)(S.default,{children:"\xd6vrigt"}),(0,R.jsx)(gt,{label:"Eventuell ytterligare information",value:A,outlined:!0,styles:{width:300},onChange:function(e){return V(e)}})]})}),(0,R.jsxs)(h.default,{style:Lt(Lt({},At.container),{},{flexDirection:"row",display:"flex",alignItems:"center",justifyContent:"center",paddingTop:20,paddingBottom:20}),children:[(0,R.jsx)(O.default,{onPress:function(){},uppercase:!1,children:"Spara utkast"}),(0,R.jsx)(O.default,{onPress:function(){return W(z)},mode:"contained",uppercase:!1,children:"Publicera"})]})]})})};var It=function(){var e=(0,H.default)();return(0,R.jsx)(R.Fragment,{children:(0,R.jsxs)(e.Navigator,{children:[(0,R.jsx)(e.Screen,{name:"ListDeals",options:function(e){var t=e.navigation;return{headerRight:function(){return(0,R.jsx)(Ke.default,{icon:"bell",size:18,onPress:function(){return t.navigate("Notifications")}})},title:"Erbjudanden"}},component:ge}),(0,R.jsx)(e.Screen,{name:"Deal",options:{title:"Erbjudande"},component:Re}),(0,R.jsx)(e.Screen,{name:"CreateDeal",options:{title:"Erbjud vara"},component:wt}),(0,R.jsx)(e.Screen,{name:"Notifications",component:ne})]})})},Mt=function(){var e=(0,H.default)();return(0,R.jsx)(R.Fragment,{children:(0,R.jsxs)(e.Navigator,{children:[(0,R.jsx)(e.Screen,{name:"ListTenderRequests",options:{title:"F\xf6rfr\xe5gningar"},component:Je}),(0,R.jsx)(e.Screen,{name:"TenderRequest",options:{title:"F\xf6rfr\xe5gan"},component:rt}),(0,R.jsx)(e.Screen,{name:"CreateOffer",options:{title:"L\xe4mna anbud"},component:Vt})]})})},qt=function(){var e=(0,H.default)();return(0,R.jsx)(R.Fragment,{children:(0,R.jsx)(e.Navigator,{children:(0,R.jsx)(e.Screen,{name:"SupplierProfile",options:{title:"Wermlands Mejeri"},component:ut})})})};const zt=function(){var e=(0,be.useTheme)(),t=(0,re.default)();return(0,R.jsxs)(t.Navigator,{activeColor:e.colors.primary,inactiveColor:e.colors.iconInactive,barStyle:{backgroundColor:e.colors.background},theme:e,initialRouteName:"TenderRequests",children:[(0,R.jsx)(t.Screen,{name:"TenderRequests",component:Mt,options:{tabBarLabel:"F\xf6rfr\xe5gningar",tabBarAccessibilityLabel:"F\xf6rfr\xe5gningar",tabBarIcon:function(e){var t=e.focused;return(0,R.jsx)(dt,{name:"cart",focused:t})}}}),(0,R.jsx)(t.Screen,{name:"Deals",component:It,options:{tabBarLabel:"Erbjudanden",tabBarAccessibilityLabel:"Erbjudanden",tabBarIcon:function(e){var t=e.focused;return(0,R.jsx)(dt,{name:"corn",focused:t})}}}),(0,R.jsx)(t.Screen,{name:"Explore",component:Ge,options:{tabBarLabel:"Uppt\xe4ck",tabBarAccessibilityLabel:"Uppt\xe4ck",tabBarIcon:function(e){var t=e.focused;return(0,R.jsx)(dt,{name:"compass",focused:t})}}}),(0,R.jsx)(t.Screen,{name:"Profile",component:qt,options:{tabBarLabel:"Mina sidor",tabBarAccessibilityLabel:"Mina sidor",tabBarIcon:function(e){var t=e.focused;return(0,R.jsx)(dt,{name:"account",focused:t})}}})]})};const Nt=function(e){var t,n=e.tenderRequest,r=e.navigation,a=e.user;null==a||a.type,null==a||a.type;return(0,R.jsx)(ae.default,{style:Kt.card,onPress:function(){return r.navigate("TenderRequests",{screen:"TenderRequest",params:{tenderRequest:n}})},children:(0,R.jsx)(ae.default.Title,{title:n.title,titleVariant:"titleSmall",titleStyle:{fontSize:14},subtitle:"Tilldelningsdatum: "+(null==(t=n.lastAwardDate)?void 0:t.toString().split("T")[0]),right:function(e){return(0,R.jsx)(O.default,{icon:"chevron-right"})}})})};var Kt=v.default.create({header:{margin:16},card:{margin:10,backgroundColor:"white"},infoCard:{marginTop:5,marginBottom:5}});function Wt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _t(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wt(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Ut=function(e){var t=e.route,n=e.navigation,r=(0,be.useTheme)(),l=q(),o=l.user,s=l.logout,u=Z(),d=(0,f.default)(u,4),c=d[0],p=d[3],g=(0,i.useState)(!0),m=(0,f.default)(g,2),j=m[0],b=m[1],v=(0,i.useState)(!0),x=(0,f.default)(v,2),y=x[0],k=x[1];(0,i.useEffect)((function(){p()}),[]);var P=c.filter((function(e){return e.buyer.id===(null==o?void 0:o.id)}));return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsxs)(h.default,{style:_t({},Ht.header),children:[(0,R.jsx)(je.default,{children:"Mina sidor"}),(0,R.jsx)(S.default,{children:null==o?void 0:o.name})]}),(0,R.jsxs)(ye.Tabs,{uppercase:!1,style:{backgroundColor:"#D8F5E3"},theme:r,children:[(0,R.jsx)(ye.TabScreen,{label:"Aktuellt",children:(0,R.jsxs)(a.ScrollView,{children:[(0,R.jsxs)(le.default,{title:"Anbudsf\xf6rfr\xe5gningar",expanded:j,onPress:function(){return b((function(e){return!e}))},children:[0===P.length&&(0,R.jsx)(ae.default.Title,{style:Ht.infoCard,title:"Inga anbudsf\xf6rfr\xe5gningar",subtitle:"Skapa en ny f\xf6rfr\xe5gan f\xf6r att f\xe5 anbud fr\xe5n leverant\xf6rer."})||(0,R.jsx)(oe.default,{children:"Publicerade"}),P.map((function(e){return(0,R.jsx)(Nt,{user:o,tenderRequest:e,navigation:n},e.id)}))]}),(0,R.jsx)(Ae.default,{}),(0,R.jsxs)(le.default,{title:"Erbjudanden",expanded:y,onPress:function(){return k((function(e){return!e}))},children:[(0,R.jsx)(oe.default,{children:"Favoriter"}),(0,R.jsx)(ae.default,{children:(0,R.jsx)(ae.default.Title,{title:"Fina mor\xf6tter",subtitle:"Upp till 5 000 kg per \xe5r, leverans veckovis"})})]})]})}),(0,R.jsx)(ye.TabScreen,{label:"Mina avtal",children:(0,R.jsxs)(a.ScrollView,{children:[(0,R.jsxs)(le.default,{title:"P\xe5g\xe5ende",expanded:!0,children:[(0,R.jsx)(ae.default,{children:(0,R.jsx)(ae.default.Title,{title:"Mor\xf6tter",subtitle:"500 kg | Wermlands Mejeri"})}),(0,R.jsx)(ae.default,{children:(0,R.jsx)(ae.default.Title,{title:"Mor\xf6tter",subtitle:"700 kg | Wermlands Mejeri"})})]}),(0,R.jsx)(Ae.default,{}),(0,R.jsx)(le.default,{title:"Avslutade",children:(0,R.jsx)(ae.default,{children:(0,R.jsx)(ae.default.Title,{title:"Mor\xf6tter",subtitle:"500 kg | Wermlands Mejeri"})})})]})}),(0,R.jsx)(ye.TabScreen,{label:"Profil",children:(0,R.jsx)(Ue,{route:_t(_t({},t),{},{params:{buyer:o}}),navigation:n,editable:!0})})]}),(0,R.jsx)(O.default,{mode:"outlined",onPress:function(){n.popToTop(),o&&s(o)},children:"Logga ut"})]})};var Ht=v.default.create({header:{margin:16},card:{margin:10,backgroundColor:"white"},infoCard:{marginTop:5,marginBottom:5}});const Gt=function(e){var t=e.navigation,n=e.route,r=(0,i.useState)(""),l=(0,f.default)(r,2),o=l[0],s=l[1],u=(0,i.useState)(""),d=(0,f.default)(u,2),c=d[0],p=d[1],g=(0,i.useState)(new Date),m=(0,f.default)(g,2),j=m[0],b=m[1],v=(0,i.useState)(new Date),x=(0,f.default)(v,2),y=x[0],k=x[1],S=(0,i.useState)(new Date),P=(0,f.default)(S,2),w=P[0],C=P[1],T=(0,i.useState)(""),F=(0,f.default)(T,2),D=F[0],E=F[1],B=(0,i.useState)(""),L=(0,f.default)(B,2),A=L[0],V=L[1],I=(0,i.useState)(""),M=(0,f.default)(I,2),z=M[0],N=M[1],K=(0,i.useState)(""),W=(0,f.default)(K,2),_=W[0],U=W[1],H=(0,i.useState)("Producent ansvarar f\xf6r leverans enligt \xf6verenskommelse."),G=(0,f.default)(H,1)[0],Y=(0,i.useState)("Inl\xe4mnade anbud som uppfyller krav rangordnas efter offererat pris. Uppfyllda \xf6nskem\xe5l ger prisavdrag vid rangordning av anbud."),J=(0,f.default)(Y,1)[0],X=Z(),Q=(0,f.default)(X,3)[2],$=q().user,ee=[{label:"Veckovis",value:"0"},{label:"M\xe5nadsvis",value:"1"},{label:"Kvartalsvis",value:"2"},{label:"Endast en leverans",value:"3"}],te=[{label:"KRAV-certifierad",value:"0"},{label:"Ekologisk",value:"1"},{label:"Kvalitet klass 1",value:"2"},{label:"Studiebes\xf6k p\xe5 plats, 1h",value:"3"},{label:"Studiebes\xf6k p\xe5 plats, 2h",value:"4"},{label:"Studiebes\xf6k digitalt, 1h",value:"5"},{label:"Studiebes\xf6k digitalt, 2h",value:"6"}];(0,i.useEffect)((function(){var e,t;null!=(e=n.params)&&e.title&&s(null==(t=n.params)?void 0:t.title)}),[n.params]);var ne=function(e,t){return e.split(",").map((function(e){var n;return null==(n=t.find((function(t){return t.value==e})))?void 0:n.label})).filter((function(e){return e}))},re={title:o,volume:+c,lastOfferDate:j,lastAwardDate:y,buyer:$,deliveryStartDate:w,deliveryPlan:ne(D,ee).pop(),volumePerDelivery:A,optionalCriteria:ne(_,te),qualificationCriteria:ne(z,te),terms:G,grading:J};(0,i.useLayoutEffect)((function(){t.setOptions({headerRight:function(){return(0,R.jsx)(O.default,{onPress:function(){return ae(re)},children:"Publicera"})}})}),[re]);var ae=function(e){Q(e),t.navigate("ListTenderRequests")};return(0,R.jsxs)(a.ScrollView,{children:[(0,R.jsx)(gt,{label:"Namn p\xe5 vara",value:o,onChange:function(e){return s(e)}}),(0,R.jsx)(gt,{label:"Total volym",value:c,onChange:function(e){return p(e)}}),(0,R.jsx)(gt,{label:"Best\xe4llare",value:(null==$?void 0:$.name)+", "+(null==$?void 0:$.address)+", "+(null==$?void 0:$.zip)+" "+(null==$?void 0:$.postalAddress),disabled:!0}),(0,R.jsx)(kt,{label:"Sista anbud",value:j,onChange:function(e){e&&b(e)}}),(0,R.jsx)(kt,{label:"Tilldelning senast",value:y,onChange:function(e){e&&k(e)}}),(0,R.jsx)(kt,{label:"Leverans startdatum",value:w,onChange:function(e){e&&C(e)}}),(0,R.jsx)(bt,{label:"Leveransplan",value:D,setValue:E,values:ee}),(0,R.jsx)(gt,{label:"Volym per leverans",value:A,onChange:function(e){return V(e)}}),(0,R.jsx)(gt,{label:"Villkor",value:G,disabled:!0,multiline:!0,numberOfLines:2}),(0,R.jsx)(gt,{label:"Urval",value:J,disabled:!0,multiline:!0,numberOfLines:3}),(0,R.jsx)(bt,{label:"Krav",value:z,setValue:N,values:te,multiSelect:!0}),(0,R.jsx)(bt,{label:"\xd6nskem\xe5l",value:_,setValue:U,values:te,multiSelect:!0}),(0,R.jsxs)(h.default,{style:Yt.actionContainer,children:[(0,R.jsx)(O.default,{onPress:function(){},uppercase:!1,children:"Spara utkast"}),(0,R.jsx)(O.default,{mode:"contained",onPress:ae,uppercase:!1,children:"Publicera"})]})]})};var Yt=v.default.create({actionContainer:{flexDirection:"row",display:"flex",alignItems:"center",justifyContent:"center",paddingBottom:20,paddingTop:20}}),Jt=(0,H.default)(),Xt=function(){return(0,R.jsx)(R.Fragment,{children:(0,R.jsxs)(Jt.Navigator,{children:[(0,R.jsx)(Jt.Screen,{name:"ListTenderRequests",options:{title:"F\xf6rfr\xe5gningar"},component:Je}),(0,R.jsx)(Jt.Screen,{name:"TenderRequest",options:{title:"F\xf6rfr\xe5gan"},component:rt}),(0,R.jsx)(Jt.Screen,{name:"CreateTenderRequest",options:{title:"Anbudsf\xf6rfr\xe5gan"},component:Gt})]})})},Qt=function(){return(0,R.jsx)(R.Fragment,{children:(0,R.jsxs)(Jt.Navigator,{children:[(0,R.jsx)(Jt.Screen,{name:"ListDeals",options:function(e){var t=e.navigation;return{headerRight:function(){return(0,R.jsx)(Ke.default,{icon:"bell",size:18,onPress:function(){return t.navigate("Notifications")}})},title:"Erbjudanden"}},component:ge}),(0,R.jsx)(Jt.Screen,{name:"Deal",options:{title:"Erbjudande"},component:Re})]})})},Zt=function(){var e=(0,H.default)();return(0,R.jsx)(R.Fragment,{children:(0,R.jsx)(e.Navigator,{children:(0,R.jsx)(e.Screen,{name:"BuyerProfile",options:{title:"Kvarnbergsskolan"},component:Ut})})})};const $t=function(){var e=(0,re.default)(),t=(0,be.useTheme)();return(0,R.jsxs)(e.Navigator,{activeColor:t.colors.primary,inactiveColor:t.colors.iconInactive,barStyle:{backgroundColor:t.colors.background},theme:t,initialRouteName:"Deals",children:[(0,R.jsx)(e.Screen,{name:"Deals",component:Qt,options:{tabBarLabel:"Erbjudanden",tabBarAccessibilityLabel:"Erbjudanden",tabBarIcon:function(e){var t=e.focused;return(0,R.jsx)(dt,{name:"corn",focused:t})}}}),(0,R.jsx)(e.Screen,{name:"TenderRequests",component:Xt,options:{tabBarLabel:"F\xf6rfr\xe5gningar",tabBarAccessibilityLabel:"F\xf6rfr\xe5gningar",tabBarIcon:function(e){var t=e.focused;return(0,R.jsx)(dt,{name:"cart",focused:t})}}}),(0,R.jsx)(e.Screen,{name:"Explore",component:Ge,options:{tabBarLabel:"Uppt\xe4ck",tabBarAccessibilityLabel:"Uppt\xe4ck",tabBarIcon:function(e){var t=e.focused;return(0,R.jsx)(dt,{name:"compass",focused:t})}}}),(0,R.jsx)(e.Screen,{name:"Profile",component:Zt,options:{tabBarLabel:"Mina sidor",tabBarAccessibilityLabel:"Mina sidor",tabBarIcon:function(e){var t=e.focused;return(0,R.jsx)(dt,{name:"account",focused:t})}}})]})};const en=function(){var e=(0,H.default)();return(0,R.jsxs)(e.Navigator,{initialRouteName:"Login",children:[(0,R.jsx)(e.Screen,{name:"Logga ut",options:{headerShown:!1},children:function(e){var t=e.navigation;return(0,R.jsx)(_,{onLogin:function(e){t.navigate(e.type)}})}}),(0,R.jsx)(e.Screen,{name:"supplier",options:{headerShown:!1},children:function(){return zt()}}),(0,R.jsx)(e.Screen,{name:"buyer",options:{headerShown:!1,title:"Tillbaka"},children:function(){return $t()}}),(0,R.jsx)(e.Group,{screenOptions:{presentation:"modal"},children:(0,R.jsx)(e.Screen,{name:"Notifications",component:ne,options:{title:"Notiser"}})})]})};var tn=n(5693),nn=n(6363),rn=function(){var e,t=(0,i.useState)(!1),n=(0,f.default)(t,2),r=n[0],a=n[1],l=X(),o=(0,f.default)(l,1)[0];return(0,R.jsx)(nn.default,{visible:r,onDismiss:function(){return a(!1)},children:o.length>0&&(null==(e=o.at(-1))?void 0:e.title)})};function an(){var e=(0,be.useTheme)();return(0,R.jsx)(I,{children:(0,R.jsx)(A,{children:(0,R.jsxs)(g.SafeAreaProvider,{children:[(0,R.jsxs)(tn.default,{theme:e,children:[(0,R.jsx)(en,{}),(0,R.jsx)(p.default,{style:"light"})]}),(0,R.jsx)(rn,{})]})})})}function ln(e){var t=e.children;return(0,R.jsx)(h.default,{style:on.container,children:(0,R.jsx)(h.default,{style:on.innerContainer,children:t})})}var on=v.default.create({container:{flex:1,backgroundColor:"#333",alignItems:"center",justifyContent:"center"},innerContainer:{position:"relative",width:375,maxWidth:"100vw",height:"90vh",maxHeight:"100vh",borderWidth:10,borderColor:"#555",borderStyle:"inset",borderRadius:40,overflow:"hidden",alignItems:"stretch",justifyContent:"center"}});function sn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function un(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sn(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var dn=un(un({},u.MD2LightTheme),{},{roundness:4,colors:un(un({},u.MD2LightTheme.colors),{},{background:"#FAF7F0",surface:"#FAF7F0",surfaceVariant:"#EBFAEF",primary:"#1C3BA0",accent:"#EBFAEF",iconInactive:"#666259",secondary:"#FFFFFF",secondaryVariant:"#FFFFFF",text:"#1B1918",placeholder:"#1B1918"}),fonts:(0,d.default)({config:{web:{regular:{fontFamily:"Avenir",fontWeight:"normal"},medium:{fontFamily:"Avenir",fontWeight:600},light:{fontFamily:"Avenir",fontWeight:"light"},thin:{fontFamily:"Avenir",fontWeight:"thin"}},ios:{regular:{fontFamily:"sans-serif",fontWeight:"normal"},medium:{fontFamily:"sans-serif-medium",fontWeight:"normal"},light:{fontFamily:"sans-serif-light",fontWeight:"normal"},thin:{fontFamily:"sans-serif-thin",fontWeight:"normal"}},android:{regular:{fontFamily:"sans-serif",fontWeight:"normal"},medium:{fontFamily:"sans-serif-medium",fontWeight:"normal"},light:{fontFamily:"sans-serif-light",fontWeight:"normal"},thin:{fontFamily:"sans-serif-thin",fontWeight:"normal"}}}})});function cn(){return(0,R.jsx)(s.default,{theme:dn,children:"web"===o.default.OS?(0,R.jsx)(ln,{children:(0,R.jsx)(an,{})}):(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(p.default,{}),(0,R.jsx)(an,{})]})})}l.default.registerComponent(c.expo.name,(function(){return cn}))}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.m=e,n.amdO={},(()=>{var e=[];n.O=(t,r,a,i)=>{if(!r){var l=1/0;for(d=0;d<e.length;d++){for(var[r,a,i]=e[d],o=!0,s=0;s<r.length;s++)(!1&i||l>=i)&&Object.keys(n.O).every((e=>n.O[e](r[s])))?r.splice(s--,1):(o=!1,i<l&&(l=i));if(o){e.splice(d--,1);var u=a();void 0!==u&&(t=u)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[r,a,i]}})(),n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,a){if(1&a&&(r=this(r)),8&a)return r;if("object"===typeof r&&r){if(4&a&&r.__esModule)return r;if(16&a&&"function"===typeof r.then)return r}var i=Object.create(null);n.r(i);var l={};e=e||[null,t({}),t([]),t(t)];for(var o=2&a&&r;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((e=>l[e]=()=>r[e]));return l.default=()=>r,n.d(i,l),i}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="/",(()=>{var e={179:0};n.O.j=t=>0===e[t];var t=(t,r)=>{var a,i,[l,o,s]=r,u=0;if(l.some((t=>0!==e[t]))){for(a in o)n.o(o,a)&&(n.m[a]=o[a]);if(s)var d=s(n)}for(t&&t(r);u<l.length;u++)i=l[u],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(d)},r=self.webpackChunkweb=self.webpackChunkweb||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=n.O(void 0,[762],(()=>n(9386)));r=n.O(r)})();
//# sourceMappingURL=main.04b88f62.js.map